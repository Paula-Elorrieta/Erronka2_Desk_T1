package controlador;

import java.util.List;

import org.hibernate.Session;
import org.hibernate.query.Query;

import org.hibernate.Session;

import controlador.db.HibernateUtil;

public class BileraC {
	
	
	public void obtenerBilerakIrakasle(int profeId) {
	    Session session = HibernateUtil.getSessionFactory().openSession();
	    try {
			String hql = "FROM Bilera b " + "LEFT JOIN FETCH b.users " + "WHERE b.users.id = :profeId";

			Query<Bilera> query = session.createQuery(hql, Bilera.class);
			query.setParameter("profeId", profeId);
			List<Bilera> bilerak = query.list();

			return bilerak;
	    }catch(Exception e) {
        	e.printStackTrace();
        	}finally {
        		session.close();
        	}

	}
}
