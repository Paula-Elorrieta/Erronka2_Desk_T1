package controlador.db;


import org.hibernate.Session;
import org.hibernate.SessionFactory;

public class Konexioa {

    private Session session;

    public Konexioa() {
        this.session = null;
    }

    public Session irekiKonexioa() {
        try {
            SessionFactory sessionFactory = HibernateUtil.getSessionFactory();
            session = sessionFactory.openSession();
            System.out.println("Konexioa egin da.");
        } catch (Exception e) {
            e.printStackTrace();
            System.out.println("Errorea konexioa egiterakoan.");
        }
        return session;
    }

    public void itxiKonexioa() {
        if (session != null && session.isOpen()) {
            try {
                session.close();
                System.out.println("Konexioa itxi da.");
            } catch (Exception e) {
                e.printStackTrace();
                System.out.println("Errorea konexioa ixterakoan.");
            }
        } else {
            System.out.println("Ez dago konexiorik ixteko.");
        }
    }
}